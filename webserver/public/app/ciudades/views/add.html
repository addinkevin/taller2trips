<div class='page-header'>
    <div class="row row-eq-height">
        <div class="col-sm-8">
            <div style="float:left;">
                <h1>Agregar ciudad</h1>
            </div>
            <div style="float:left;" class="select-wrapper">
                <select class="form-control" style="width:120px;"
                        ng-model="idiomaFormulario"
                        ng-options="idioma as (idioma.nombre + '' + getIndicativo(idioma)) group by getStatusIdioma(idioma) for idioma in ciudad.idiomas">
                </select>
            </div>
        </div>
        <div class="col-sm-4">
            <div class='btn-toolbar pull-right button-wrapper'>
                <div class='btn-group'>
                    <a href="#/ciudades" class="btn btn-primary" role="button">Volver al listado de ciudades</a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-body">
        <form ng-submit="submitAddCiudad()">
            <div class="form-group row">
                <label class="col-sm-2 col-form-label">Nombre de ciudad</label>
                <div class="col-sm-10">
                    <input type="text" ng-model="ciudad.nombre" class="form-control" placeholder="Nombre de la ciudad">
                </div>
            </div>

            <div class="form-group row">
                <label class="col-sm-2 col-form-label">País de la ciudad</label>
                <div class="col-sm-10">
                    <input type="text" ng-model="ciudad.pais" class="form-control" placeholder="País de la ciudad">
                </div>
            </div>

            <div class="form-group row">
                <label class="col-sm-2 col-form-label">Descripción de la ciudad</label>
                <div class="col-sm-10">
                    <textarea class="form-control" ng-model="ciudad.descripcion[idiomaFormulario.code]" rows="5" style="resize: none;" id="descripcionCiudad" placeholder="Descripción de la ciudad"
                              ng-change="updateDescripcion()">
                    </textarea>
                </div>
            </div>

            <div class="form-group row">
                <label class="col-sm-2 col-form-label">Imagen de la ciudad</label>
                <div class="col-sm-10">
                    <h4>Información</h4>
                    <p>El formato de la imagen debe ser png.</p>
                    <p>El tamaño de la imagen debería ser 1920x1080 para una mejor visualización en la aplicación móvil.</p>
                    <label class="btn btn-primary" for="imagenCiudadInput">
                        <input type="file" id="imagenCiudadInput" accept="image/png"
                               style="display:none;" custom-on-change="updateImageClick">
                        Subir imagen
                        <span class='label label-info' id="upload-file-info"></span>
                    </label>
                </div>
            </div>

            <label>Preview</label>
            <div class="panel panel-default">
                <div class="panel-body">
                    <div class="row">
                        <div class="col-xs-6 col-md-3">
                            <img ng-show="ciudad.imgSrc" ng-src="{{ciudad.imgSrc}}" class="img-responsive"/>
                        </div>
                        <div class="col-xs-6 col-md-9">
                            <h3>{{ciudad.nombre}}</h3>
                            <div class="row">
                                <label class="col-sm-2 col-form-label">País</label>
                                <div class="col-sm-10">
                                    {{ciudad.pais}}
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-sm-2 col-form-label">Descripción</label>
                                <div class="col-sm-10">
                                    {{ciudad.descripcion[idiomaFormulario.code]}}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="alert alert-danger {{alert.class}}">
                {{alert.msg}}
            </div>

            <div class="form-group row">
                <button type="submit" class="btn btn-primary center-block">Agregar ciudad</button>
            </div>
        </form>
    </div>
</div>